<?xml version="1.0" encoding="UTF-8"?>
<!--
/**
 * Trive Fiskal API Library.
 *
 * @category  Trive
 * @package   Trive_Fiskal
 * @copyright 2017 Trive d.o.o (http://trive.digital)
 * @license   http://www.opensource.org/licenses/mit-license.php The MIT License
 * @link      http://trive.digital
 */
-->
<form xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:module:Magento_Ui:etc/ui_configuration.xsd">
    <argument name="data" xsi:type="array">
        <item name="js_config" xsi:type="array">
            <item name="provider" xsi:type="string">trive_fiskal_location_form.trive_fiskal_location_form_data_source</item>
            <item name="deps" xsi:type="string">trive_fiskal_location_form.trive_fiskal_location_form_data_source</item>
        </item>
        <item name="config" xsi:type="array">
            <item name="dataScope" xsi:type="string">data</item>
            <item name="namespace" xsi:type="string">trive_fiskal_location_form</item>
        </item>
        <item name="template" xsi:type="string">templates/form/collapsible</item>
        <item name="buttons" xsi:type="array">
            <item name="back" xsi:type="array">
                <item name="name" xsi:type="string">back</item>
                <item name="label" xsi:type="string" translate="true">Back</item>
                <item name="class" xsi:type="string">back</item>
                <item name="url" xsi:type="string">*/*/</item>
            </item>
            <item name="delete" xsi:type="string">Trive\Fiskal\Block\Adminhtml\Location\Edit\Button\Delete</item>
            <item name="save" xsi:type="string">Trive\Fiskal\Block\Adminhtml\Location\Edit\Button\Save</item>
            <item name="save_and_continue" xsi:type="string">Trive\Fiskal\Block\Adminhtml\Location\Edit\Button\SaveAndContinue</item>
        </item>
    </argument>
    <dataSource name="trive_fiskal_location_form_data_source">
        <argument name="dataProvider" xsi:type="configurableObject">
            <argument name="class" xsi:type="string">Trive\Fiskal\Ui\DataProvider\LocationDataProvider</argument>
            <argument name="name" xsi:type="string">trive_fiskal_location_form_data_source</argument>
            <argument name="primaryFieldName" xsi:type="string">location_id</argument>
            <argument name="requestFieldName" xsi:type="string">location_id</argument>
            <argument name="data" xsi:type="array">
                <item name="config" xsi:type="array">
                    <item name="submit_url" xsi:type="url" path="trive_fiskal/location/save"/>
                </item>
            </argument>
        </argument>
        <argument name="data" xsi:type="array">
            <item name="js_config" xsi:type="array">
                <item name="component" xsi:type="string">Magento_Ui/js/form/provider</item>
            </item>
        </argument>
    </dataSource>
    <fieldset name="location">
        <argument name="data" xsi:type="array">
            <item name="config" xsi:type="array">
                <item name="label" xsi:type="string">Location</item>
                <item name="sortOrder" xsi:type="number">1</item>
                <item name="additionalClasses" xsi:type="string">fieldset-trive-fiskal-location-address</item>
            </item>
        </argument>
        <field name="location_id">
            <argument name="data" xsi:type="array">
                <item name="config" xsi:type="array">
                    <item name="dataScope" xsi:type="string">location_id</item>
                    <item name="visible" xsi:type="boolean">false</item>
                    <item name="dataType" xsi:type="string">text</item>
                    <item name="formElement" xsi:type="string">input</item>
                    <item name="source" xsi:type="string">location</item>
                </item>
            </argument>
        </field>
        <field name="use_full_address">
            <argument name="data" xsi:type="array">
                <item name="config" xsi:type="array">
                    <item name="dataScope" xsi:type="string">use_full_address</item>
                    <item name="label" xsi:type="string" translate="true">Use Full Address</item>
                    <item name="dataType" xsi:type="string">boolean</item>
                    <item name="formElement" xsi:type="string">checkbox</item>
                    <item name="prefer" xsi:type="string">toggle</item>
                    <item name="valueMap" xsi:type="array">
                        <item name="true" xsi:type="number">1</item>
                        <item name="false" xsi:type="number">0</item>
                    </item>
                    <item name="default" xsi:type="number">0</item>
                    <item name="exports" xsi:type="array">
                        <item name="checked" xsi:type="string">${$.parentName}.other_type:disabled</item>
                    </item>
                </item>
            </argument>
        </field>
        <field name="code">
            <argument name="data" xsi:type="array">
                <item name="config" xsi:type="array">
                    <item name="dataScope" xsi:type="string">code</item>
                    <item name="label" xsi:type="string" translate="true">Code</item>
                    <item name="dataType" xsi:type="string">text</item>
                    <item name="formElement" xsi:type="string">input</item>
                    <item name="source" xsi:type="string">location</item>
                    <item name="validation" xsi:type="array">
                        <item name="required-entry" xsi:type="boolean">true</item>
                        <item name="validate-data" xsi:type="boolean">true</item>
                    </item>
                    <item name="tooltip" xsi:type="array">
                        <item name="description" xsi:type="string" translate="true">Location code, e.g. SHOP-1</item>
                    </item>
                </item>
            </argument>
        </field>
        <field name="payment_device_code">
            <argument name="data" xsi:type="array">
                <item name="config" xsi:type="array">
                    <item name="dataScope" xsi:type="string">payment_device_code</item>
                    <item name="label" xsi:type="string" translate="true">Payment Device Code</item>
                    <item name="dataType" xsi:type="string">text</item>
                    <item name="formElement" xsi:type="string">input</item>
                    <item name="source" xsi:type="string">location</item>
                    <item name="validation" xsi:type="array">
                        <item name="required-entry" xsi:type="boolean">true</item>
                        <item name="validate-digits" xsi:type="boolean">true</item>
                        <item name="min_text_length" xsi:type="number">1</item>
                        <item name="max_text_length" xsi:type="number">20</item>
                    </item>
                    <item name="tooltip" xsi:type="array">
                        <item name="description" xsi:type="string" translate="true">Payment device code, e.g. 1, no leading zeroes</item>
                    </item>
                </item>
            </argument>
        </field>
        <field name="street">
            <argument name="data" xsi:type="array">
                <item name="config" xsi:type="array">
                    <item name="dataScope" xsi:type="string">street</item>
                    <item name="label" xsi:type="string" translate="true">Street</item>
                    <item name="dataType" xsi:type="string">text</item>
                    <item name="formElement" xsi:type="string">input</item>
                    <item name="source" xsi:type="string">location</item>
                    <item name="validation" xsi:type="array">
                        <item name="required-entry" xsi:type="boolean">true</item>
                        <item name="max_text_length" xsi:type="number">100</item>
                    </item>
                    <item name="imports" xsi:type="array">
                        <item name="visible" xsi:type="string">${ $.parentName }.use_full_address:checked</item>
                    </item>
                </item>
            </argument>
        </field>
        <field name="house_number">
            <argument name="data" xsi:type="array">
                <item name="config" xsi:type="array">
                    <item name="dataScope" xsi:type="string">house_number</item>
                    <item name="label" xsi:type="string" translate="true">House Number</item>
                    <item name="dataType" xsi:type="string">text</item>
                    <item name="formElement" xsi:type="string">input</item>
                    <item name="source" xsi:type="string">location</item>
                    <item name="validation" xsi:type="array">
                        <item name="required-entry" xsi:type="boolean">true</item>
                        <item name="validate-digits" xsi:type="boolean">true</item>
                        <item name="max_text_length" xsi:type="number">4</item>
                    </item>
                    <item name="imports" xsi:type="array">
                        <item name="visible" xsi:type="string">${ $.parentName }.use_full_address:checked</item>
                    </item>
                    <item name="tooltip" xsi:type="array">
                        <item name="description" xsi:type="string" translate="true">House number (without suffix)</item>
                    </item>
                </item>
            </argument>
        </field>
        <field name="house_number_suffix">
            <argument name="data" xsi:type="array">
                <item name="config" xsi:type="array">
                    <item name="dataScope" xsi:type="string">house_number_suffix</item>
                    <item name="label" xsi:type="string" translate="true">House Number Suffix</item>
                    <item name="dataType" xsi:type="string">text</item>
                    <item name="formElement" xsi:type="string">input</item>
                    <item name="source" xsi:type="string">location</item>
                    <item name="validation" xsi:type="array">
                        <item name="max_text_length" xsi:type="number">4</item>
                    </item>
                    <item name="imports" xsi:type="array">
                        <item name="visible" xsi:type="string">${ $.parentName }.use_full_address:checked</item>
                    </item>
                    <item name="tooltip" xsi:type="array">
                        <item name="description" xsi:type="string" translate="true">House number suffix, e.g. for 41A, "A" should be entered in this field</item>
                    </item>
                </item>
            </argument>
        </field>
        <field name="zip_code">
            <argument name="data" xsi:type="array">
                <item name="config" xsi:type="array">
                    <item name="dataScope" xsi:type="string">zip_code</item>
                    <item name="label" xsi:type="string" translate="true">ZIP Code</item>
                    <item name="dataType" xsi:type="string">text</item>
                    <item name="formElement" xsi:type="string">input</item>
                    <item name="source" xsi:type="string">location</item>
                    <item name="validation" xsi:type="array">
                        <item name="required-entry" xsi:type="boolean">true</item>
                        <item name="max_text_length" xsi:type="number">12</item>
                    </item>
                    <item name="imports" xsi:type="array">
                        <item name="visible" xsi:type="string">${ $.parentName }.use_full_address:checked</item>
                    </item>
                </item>
            </argument>
        </field>
        <field name="settlement">
            <argument name="data" xsi:type="array">
                <item name="config" xsi:type="array">
                    <item name="dataScope" xsi:type="string">settlement</item>
                    <item name="label" xsi:type="string" translate="true">Settlement</item>
                    <item name="dataType" xsi:type="string">text</item>
                    <item name="formElement" xsi:type="string">input</item>
                    <item name="source" xsi:type="string">location</item>
                    <item name="validation" xsi:type="array">
                        <item name="required-entry" xsi:type="boolean">true</item>
                        <item name="max_text_length" xsi:type="number">35</item>
                    </item>
                    <item name="imports" xsi:type="array">
                        <item name="visible" xsi:type="string">${ $.parentName }.use_full_address:checked</item>
                    </item>
                </item>
            </argument>
        </field>
        <field name="city">
            <argument name="data" xsi:type="array">
                <item name="config" xsi:type="array">
                    <item name="dataScope" xsi:type="string">city</item>
                    <item name="label" xsi:type="string" translate="true">City</item>
                    <item name="dataType" xsi:type="string">text</item>
                    <item name="formElement" xsi:type="string">input</item>
                    <item name="source" xsi:type="string">location</item>
                    <item name="validation" xsi:type="array">
                        <item name="required-entry" xsi:type="boolean">true</item>
                        <item name="max_text_length" xsi:type="number">35</item>
                    </item>
                    <item name="imports" xsi:type="array">
                        <item name="visible" xsi:type="string">${ $.parentName }.use_full_address:checked</item>
                    </item>
                </item>
            </argument>
        </field>
        <field name="other_type">
            <argument name="data" xsi:type="array">
                <item name="config" xsi:type="array">
                    <item name="dataScope" xsi:type="string">other_type</item>
                    <item name="label" xsi:type="string" translate="true">Other Type</item>
                    <item name="dataType" xsi:type="string">text</item>
                    <item name="formElement" xsi:type="string">input</item>
                    <item name="source" xsi:type="string">location</item>
                    <item name="validation" xsi:type="array">
                        <item name="required-entry" xsi:type="boolean">true</item>
                        <item name="max_text_length" xsi:type="number">100</item>
                    </item>
                    <item name="tooltip" xsi:type="array">
                        <item name="description" xsi:type="string" translate="true">Description of location, if no address is available. e.g. "Webshop"</item>
                    </item>
                </item>
            </argument>
        </field>
        <field name="business_hours">
            <argument name="data" xsi:type="array">
                <item name="config" xsi:type="array">
                    <item name="dataScope" xsi:type="string">business_hours</item>
                    <item name="label" xsi:type="string" translate="true">Business Hours</item>
                    <item name="dataType" xsi:type="string">text</item>
                    <item name="formElement" xsi:type="string">input</item>
                    <item name="source" xsi:type="string">location</item>
                    <item name="validation" xsi:type="array">
                        <item name="required-entry" xsi:type="boolean">true</item>
                        <item name="max_text_length" xsi:type="number">100</item>
                    </item>
                    <item name="tooltip" xsi:type="array">
                        <item name="description" xsi:type="string" translate="true">Business hours in form of text, e.g. "Pon-Sub: 08:00-21:00, Ned: 09:00-14:00"</item>
                    </item>
                </item>
            </argument>
        </field>
        <field name="valid_from">
            <argument name="data" xsi:type="array">
                <item name="config" xsi:type="array">
                    <item name="dataScope" xsi:type="string">valid_from</item>
                    <item name="label" xsi:type="string" translate="true">Valid From</item>
                    <item name="dataType" xsi:type="string">text</item>
                    <item name="formElement" xsi:type="string">date</item>
                    <item name="source" xsi:type="string">location</item>
                    <item name="options" xsi:type="array">
                        <item name="dateFormat" xsi:type="string">MMM d, y</item>
                        <item name="showsTime" xsi:type="boolean">false</item>
                    </item>
                    <item name="validation" xsi:type="array">
                        <item name="required-entry" xsi:type="boolean">true</item>
                        <item name="validate-date" xsi:type="boolean">true</item>
                    </item>
                    <item name="tooltip" xsi:type="array">
                        <item name="description" xsi:type="string" translate="true">Date location is valid from</item>
                    </item>
                </item>
            </argument>
        </field>
    </fieldset>
</form>
